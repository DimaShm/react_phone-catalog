(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],{45:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){},49:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){},54:function(e,t,c){},55:function(e,t,c){},56:function(e,t,c){},57:function(e,t,c){},58:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){"use strict";c.r(t);var a=c(25),n=c.n(a),s=c(7),r=c(23),i=c(5),o=c(6),l=c(3),u=c(4),j=c(1),d=function(e){return e.discount?e.price-e.discount*e.price/100:e.price},b=c(14),O=c(9),h=c.n(O),m=function(){return Object(r.b)()},x=r.c,p=c(13),v=Object(p.b)({name:"cartProducts",initialState:{cartProducts:[]},reducers:{setCartProducts:function(e,t){e.cartProducts=t.payload,localStorage.setItem("cart",JSON.stringify(e.cartProducts))},addCartProduct:function(e,t){var c=e.cartProducts.some((function(e){var c;return e.id===(null===(c=t.payload)||void 0===c?void 0:c.id)}));t.payload&&!c&&(e.cartProducts.push(t.payload),localStorage.setItem("cart",JSON.stringify(e.cartProducts)))},deleteCartProduct:function(e,t){e.cartProducts=e.cartProducts.filter((function(e){return e.id!==t.payload.id})),localStorage.setItem("cart",JSON.stringify(e.cartProducts))}}}),f=v.actions,g=f.setCartProducts,_=f.addCartProduct,N=f.deleteCartProduct,y=v.reducer,P=Object(p.b)({name:"favorites",initialState:{favorites:[]},reducers:{setFavorites:function(e,t){e.favorites=t.payload,localStorage.setItem("favorites",JSON.stringify(e.favorites))},addFavorite:function(e,t){var c=e.favorites.some((function(e){var c;return e.id===(null===(c=t.payload)||void 0===c?void 0:c.id)}));t.payload&&!c&&e.favorites.push(t.payload),localStorage.setItem("favorites",JSON.stringify(e.favorites))},deleteFavorite:function(e,t){e.favorites=e.favorites.filter((function(e){return e.id!==t.payload.id})),localStorage.setItem("favorites",JSON.stringify(e.favorites))}}}),S=P.actions,C=S.addFavorite,k=S.deleteFavorite,w=S.setFavorites,T=P.reducer,F=(c(45),c(0)),H=function(e){var t=e.currentProduct,c=e.buttonSize,a=m(),n=x((function(e){return e.cartProducts})).cartProducts,s=Object(j.useState)(null),r=Object(l.a)(s,2),i=r[0],o=r[1],d=x((function(e){return e.favorites})).favorites,O=Object(u.k)().pathname;Object(j.useEffect)((function(){var e=n.find((function(e){return e.id===(null===t||void 0===t?void 0:t.id)}));if(e&&o(e),!e&&t){var c={id:t.id,product:Object(b.a)({},t),quantity:1};o(c)}}),[]);var p=n.some((function(e){return e.id===(null===i||void 0===i?void 0:i.id)})),v=d.some((function(e){return e.id===(null===t||void 0===t?void 0:t.id)}));return Object(F.jsxs)("div",{className:"Order",children:[Object(F.jsx)("button",{type:"button",className:h()("Order__cart-button","Order__cart-button--".concat(c),{"Order__cart-button--active":p}),onClick:function(){a(p&&i?N(i):_(i))},children:p?"Added to cart":"Add to cart"}),Object(F.jsx)("button",{"data-cy":"addToFavorite","aria-label":"addToFavorite",type:"button",className:h()("Order__favorite-button","Order__favorite-button--".concat(c),{"Order__favorite-button--active":v}),onClick:function(){a("/favorites"===O&&t||v&&t?k(t):C(t))}})]})},A=(c(47),function(e){var t=e.product,c=d(t);return Object(F.jsxs)("div",{"data-cy":"cardsContainer",className:"ProductCard",children:[Object(F.jsx)(s.b,{to:"/".concat(t.type,"s/").concat(t.id),children:Object(F.jsx)("img",{className:"ProductCard__img",src:t.imageUrl,alt:t.name})}),Object(F.jsx)(s.b,{to:"/".concat(t.type,"s/").concat(t.id),className:"ProductCard__name",children:Object(F.jsx)("span",{className:"text",children:t.name})}),Object(F.jsx)("h2",{className:"ProductCard__price",children:"$".concat(c)}),0!==t.discount&&Object(F.jsx)("h2",{className:"ProductCard__price ProductCard__price--old",children:"$".concat(t.price)}),Object(F.jsx)("div",{className:"row"}),Object(F.jsx)("div",{className:"ProductCard__description details-table",children:Object(F.jsxs)("div",{className:"details-table__grid",children:[Object(F.jsxs)("div",{className:"details-table__options",children:[Object(F.jsx)("span",{className:"small-text small-text--light text--huge",children:"Screen"}),Object(F.jsx)("span",{className:"small-text small-text--light text--huge",children:"Capacity"}),Object(F.jsx)("span",{className:"small-text small-text--light text--huge",children:"RAM"})]}),Object(F.jsxs)("div",{className:"details-table__values",children:[Object(F.jsx)("span",{className:"small-text text--huge",children:t.screen}),Object(F.jsx)("span",{className:"small-text text--huge",children:t.capacity}),Object(F.jsx)("span",{className:"small-text text--huge",children:t.ram})]})]})}),Object(F.jsx)(H,{currentProduct:t,buttonSize:"small"})]})}),E=(c(48),function(e){var t,c=e.products,a=e.title,n=Object(j.useState)(0),s=Object(l.a)(n,2),r=s[0],i=s[1],o=Object(j.useRef)(null),u=null===(t=o.current)||void 0===t?void 0:t.clientWidth;return Object(F.jsxs)("div",{className:"Carousel",children:[Object(F.jsxs)("div",{className:"Carousel__header",children:[Object(F.jsx)("h1",{children:a}),Object(F.jsxs)("div",{className:"Carousel__header-button-group",children:[Object(F.jsx)("button",{"data-cy":"leftButton","aria-label":"leftButton",type:"button",className:"icon-button icon icon--arrow-left",disabled:r>=0,onClick:function(){i((function(e){return e+288}))}}),Object(F.jsx)("button",{"data-cy":"rightButton","aria-label":"rightButton",type:"button",className:"icon-button icon icon--arrow-right",disabled:!!u&&u+r<=1136,onClick:function(){i((function(e){return e-288}))}})]})]}),Object(F.jsx)("div",{className:"Carousel__body-wrapper",children:Object(F.jsx)("div",{className:"Carousel__body-content",style:{left:r},children:Object(F.jsx)("ul",{ref:o,className:"Carousel__body-content-list",children:c.map((function(e){return Object(F.jsx)("li",{className:"Carousel__body-content-list-item",children:Object(F.jsx)(A,{product:e})},e.id)}))})})})]})}),B=(c(49),[{id:1,z_index:5,url:"img/slider_photos/photo1.png"},{id:2,z_index:4,url:"img/slider_photos/photo2.png"},{id:3,z_index:3,url:"img/slider_photos/photo3.png"},{id:4,z_index:2,url:"img/slider_photos/photo4.png"},{id:5,z_index:1,url:"img/slider_photos/photo5.png"}]),D=function(){var e=Object(j.useState)([].concat(B)),t=Object(l.a)(e,2),c=t[0],a=t[1],n=function(e,t){var c=t;return"back"===e&&(c=1===t?5:t-1),"forward"===e&&(c=5===t?1:t+1),c},s=function(e){for(var t=[],s=0;s<c.length;s+=1){var r={id:c[s].id,z_index:n(e,c[s].z_index),url:c[s].url};t.push(r)}a(t)};return Object(j.useEffect)((function(){var e=setTimeout((function(){return s("forward")}),5e3);return function(){clearTimeout(e)}}),[c]),Object(F.jsxs)("div",{className:"Slider",children:[Object(F.jsxs)("div",{className:"Slider__main",children:[Object(F.jsx)("button",{type:"button",className:"Slider__button",onClick:function(){return s("back")},children:Object(F.jsx)("div",{className:"icon icon--arrow-left"})}),Object(F.jsx)("div",{className:"Slider__photo-container",children:c.map((function(e){return Object(F.jsx)("img",{src:e.url,alt:"",className:"Slider__photo",style:{zIndex:e.z_index}},e.id)}))}),Object(F.jsx)("button",{type:"button",className:"Slider__button",onClick:function(){return s("forward")},children:Object(F.jsx)("div",{className:"icon icon--arrow-right"})})]}),Object(F.jsx)("div",{className:"Slider__footer",children:c.map((function(e){return Object(F.jsx)("div",{className:h()("Slider__indicator",{"Slider__indicator--active":5===e.z_index})},e.id)}))})]})},q=(c(50),function(e){var t=e.products,c=t.filter((function(e){return"phone"===e.type})),a=t.filter((function(e){return"tablet"===e.type})),n=t.filter((function(e){return"accessory"===e.type})),r=function(e){var t=[];e.forEach((function(e){e.discount&&t.push(e)}));var c=function(e,t){return e-(e-t*e/100)};return t.sort((function(e,t){return c(e.price,e.discount)-c(t.price,t.discount)})),t.reverse()}(t),i=function(e){var t=[];return e.forEach((function(e){e.discount||t.push(e)})),t}(t);return Object(F.jsxs)("div",{className:"HomePage",children:[Object(F.jsx)("section",{className:"HomePage__section",children:Object(F.jsx)(D,{})}),Object(F.jsx)("section",{className:"HomePage__section",children:Object(F.jsx)(E,{title:"Hot prices",products:r})}),Object(F.jsx)("h1",{children:"Shop by category"}),Object(F.jsx)("br",{}),Object(F.jsx)("br",{}),Object(F.jsxs)("section",{className:"HomePage__section HomePage__category",children:[Object(F.jsxs)("div",{children:[Object(F.jsx)(s.b,{to:"/phones",children:Object(F.jsx)("div",{className:"HomePage__category-img-container color-option--pink",children:Object(F.jsx)("img",{src:"img/category/phones.svg",alt:"phones",className:"HomePage__category-img"})})}),Object(F.jsx)("h3",{children:"Mobile phones"}),Object(F.jsx)("span",{className:"text text--light",children:"".concat(c.length," models")})]}),Object(F.jsxs)("div",{children:[Object(F.jsx)(s.b,{to:"/tablets",children:Object(F.jsx)("div",{className:" HomePage__category-img-container color-option--light-grey ",children:Object(F.jsx)("img",{src:"img/category/tablets.svg",alt:"tablets",className:"HomePage__category-img"})})}),Object(F.jsx)("h3",{children:"Tablets"}),Object(F.jsx)("span",{className:"text text--light",children:"".concat(a.length," models")})]}),Object(F.jsxs)("div",{children:[Object(F.jsx)(s.b,{to:"/accessories",children:Object(F.jsx)("div",{className:"HomePage__category-img-container color-option--purple",children:Object(F.jsx)("img",{src:"img/category/accessories.svg",alt:"accessories",className:"HomePage__category-img"})})}),Object(F.jsx)("h3",{children:"Accessories"}),Object(F.jsx)("span",{className:"text text--light",children:"".concat(n.length," models")})]})]}),Object(F.jsx)("section",{className:"HomePage__section",children:Object(F.jsx)(E,{title:"Brand new models",products:i})})]})}),I=function(){return Object(F.jsx)("h1",{className:"title",children:"Page not found"})},L=c(11),z=(c(51),function(e){var t=e.currentOption,c=e.setCurrentOption,a=e.options,n=e.pageName,r=Object(j.useState)(!1),i=Object(l.a)(r,2),o=i[0],u=i[1];return Object(F.jsxs)("div",{className:"Select",onMouseLeave:function(){return u(!1)},children:[Object(F.jsxs)("div",{className:"Select__header ",children:[Object(F.jsx)("button",{type:"button","data-cy":"selectHeader","aria-label":"selectHeader",className:"Select__title text",onClick:function(){return u((function(e){return!e}))},children:t}),Object(F.jsx)("button",{type:"button","data-cy":"toggle","aria-label":"toggle",className:"Select__button",onClick:function(){return u((function(e){return!e}))}})]}),Object(F.jsx)("div",{className:h()("Select__body",{"Select__body--is-active":o}),children:a.map((function(e){return Object(F.jsx)(s.b,{to:"/".concat(n),className:"Select__item text text--light",onClick:function(e){u(!1),e.currentTarget.textContent&&c(e.currentTarget.textContent)},children:e},e)}))})]})}),J=(c(52),function(e){for(var t=e.total,c=e.perPage,a=e.currentPage,n=e.onPageChange,s="All"===c?0:Math.ceil(t/+c),r="All"!==c&&+c<=t,i=[],o=1;o<=s;o+=1)i.push(o);return r?Object(F.jsxs)("div",{className:"Pagination",children:[Object(F.jsx)("button",{"data-cy":"paginationLeft",type:"button","aria-label":"left",className:"Pagination__button",disabled:1===a,onClick:function(){a>1&&n(a-1)},children:Object(F.jsx)("div",{className:"icon icon--arrow-left"})}),i.map((function(e){return Object(F.jsx)("button",{type:"button","aria-label":"currentPage",className:h()("Pagination__button",{"Pagination__button--active":e===a}),onClick:function(e){return function(e){e&&n(+e)}(e.currentTarget.textContent)},children:Object(F.jsx)("span",{className:h()("text",{"text--white":e===a}),children:e})},e)})),Object(F.jsx)("button",{"data-cy":"paginationRight",type:"button","aria-label":"right",className:"Pagination__button",disabled:a===s,onClick:function(){a<s&&n(a+1)},children:Object(F.jsx)("div",{className:"icon icon--arrow-right"})})]}):null}),M=(c(53),function(e){var t=e.productList;return Object(F.jsx)("ul",{"data-cy":"productList",className:"ProductList",children:t.map((function(e){return Object(F.jsx)("li",{children:Object(F.jsx)(A,{product:e})},e.id)}))})}),R=function(e){var t=e.split("/")[1];return t.slice(0,1).toLocaleUpperCase()+t.slice(1)},$=(c(54),function(){var e=Object(u.k)().pathname,t=e.split("/"),c=t[1],a=t[2],n=R(e);return Object(F.jsxs)("div",{className:"Breadcrumbs",children:[Object(F.jsx)(s.b,{to:"/home",className:"icon icon--home"}),Object(F.jsx)("div",{className:"Breadcrumbs__split",children:Object(F.jsx)("div",{className:"icon icon--arrow-right-light"})}),Object(F.jsx)(s.b,{to:"/".concat(c),className:h()("Breadcrumbs__link",{"Breadcrumbs__link--active":t.length>2}),children:n}),t.length>2&&Object(F.jsx)("div",{className:"Breadcrumbs__split",children:Object(F.jsx)("div",{className:"icon icon--arrow-right-light"})}),Object(F.jsx)("span",{className:"small-text small-text--light",children:a})]})}),G=Object(p.b)({name:"query",initialState:{query:""},reducers:{setQuery:function(e,t){e.query=t.payload},deleteQuery:function(e){e.query=""}}}),Q=G.actions,U=Q.setQuery,W=Q.deleteQuery,Y=G.reducer,K=(c(55),["Newest","Alphabetically","Cheapest"]),V=["4","8","16","All"],X=function(e){var t=e.pageName,c=e.products,a=Object(j.useState)(c),n=Object(l.a)(a,2),s=n[0],r=n[1],i=Object(j.useState)(c),o=Object(l.a)(i,2),b=o[0],O=o[1],h=Object(j.useState)(K[0]),p=Object(l.a)(h,2),v=p[0],f=p[1],g=Object(j.useState)(1),_=Object(l.a)(g,2),N=_[0],y=_[1],P=Object(j.useState)(V[V.length-1]),S=Object(l.a)(P,2),C=S[0],k=S[1],w=Object(j.useState)(""),T=Object(l.a)(w,2),H=T[0],A=T[1],E=x((function(e){return e.query})).query,B=m(),D=Object(u.n)(),q=[],I=t.toLowerCase(),R=0,G=s.length;"All"!==C&&(R=N*+C-+C,G=Math.min(N*+C,s.length));for(var Q=R;Q<G;Q+=1)q.push(s[Q]);return Object(j.useEffect)((function(){var e=c.filter((function(e){return e.name.toLowerCase().includes(E.toLowerCase())}));O(e)}),[E]),Object(j.useEffect)((function(){y(1)}),[C,E]),Object(j.useEffect)((function(){!function(){switch(v){case"Newest":r(Object(L.a)(b).sort((function(e,t){return e.age-t.age})));break;case"Alphabetically":r(Object(L.a)(b).sort((function(e,t){return e.name.localeCompare(t.name)})));break;case"Cheapest":r(Object(L.a)(b).sort((function(e,t){return d(e)-d(t)})));break;default:return c}}(),1===b.length&&D("/".concat(b[0].type,"s/").concat(b[0].id,"/found")),c.length&&!b.length&&A("No products matching your request"),c.length&&b.length&&A("")}),[v,b]),Object(j.useEffect)((function(){return c.length||A("No ".concat(I," available at the moment")),function(){B(W())}}),[]),Object(F.jsxs)("div",{className:"ProductPage",children:[Object(F.jsx)("div",{className:"ProductPage__nav",children:Object(F.jsx)($,{})}),Object(F.jsx)("h1",{className:"ProductPage__title",children:t}),Object(F.jsx)("span",{className:"ProductPage__subtitle text text--light",children:"".concat(b.length," models")}),H?Object(F.jsx)("h2",{children:H}):Object(F.jsxs)("div",{className:"container",children:[Object(F.jsxs)("div",{className:"container container--start",children:[Object(F.jsx)("span",{className:" ProductPage__select-label small-text small-text--light ",children:"Sort By"}),Object(F.jsx)(z,{currentOption:v,setCurrentOption:f,options:K,pageName:I})]}),Object(F.jsxs)("div",{className:"container container--start",children:[Object(F.jsx)("span",{className:" ProductPage__select-label small-text small-text--light ",children:"Items on page"}),Object(F.jsx)(z,{currentOption:C,setCurrentOption:k,options:V,pageName:I})]})]}),Object(F.jsx)("div",{"data-cy":"cardsContainer",className:"container",children:Object(F.jsx)(M,{productList:q})}),Object(F.jsx)("div",{className:"ProductPage__pagination",children:Object(F.jsx)(J,{total:s.length,perPage:C,currentPage:N,onPageChange:function(e){return y(e)}})})]})};function Z(){return(Z=Object(o.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ee=function(e){return function(e){return Z.apply(this,arguments)}(300).then((function(){return fetch("https://mate-academy.github.io/react_phone-catalog/api/products"+e)})).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()}))},te=function(){return ee(".json")},ce=(c(56),function(){return Object(F.jsx)("div",{className:"Loader","data-cy":"Loader",children:Object(F.jsx)("div",{className:"Loader__content"})})}),ae=function(){return Object(F.jsx)("h1",{className:"App__error-message",children:"Something went wrong"})},ne=function(){var e=Object(j.useState)([]),t=Object(l.a)(e,2),c=t[0],a=t[1],n=Object(j.useState)(!1),s=Object(l.a)(n,2),r=s[0],u=s[1],d=Object(j.useState)(!1),b=Object(l.a)(d,2),O=b[0],h=b[1],m=function(e,t){var c=e.filter((function(e){return e.type===t}));a(c)};return Object(j.useEffect)((function(){Object(o.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,te();case 4:t=e.sent,m(t,"phone"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),h(!0);case 11:return e.prev=11,u(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})))()}),[]),Object(F.jsxs)(F.Fragment,{children:[O&&Object(F.jsx)(ae,{}),!O&&r&&"complete"===document.readyState?Object(F.jsx)(ce,{}):Object(F.jsx)(X,{pageName:"Phones",products:c})]})},se=function(){var e=Object(j.useState)([]),t=Object(l.a)(e,2),c=t[0],a=t[1],n=Object(j.useState)(!1),s=Object(l.a)(n,2),r=s[0],u=s[1],d=Object(j.useState)(!1),b=Object(l.a)(d,2),O=b[0],h=b[1],m=function(e,t){var c=e.filter((function(e){return e.type===t}));a(c)};return Object(j.useEffect)((function(){Object(o.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,te();case 4:t=e.sent,m(t,"tablet"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),h(!0);case 11:return e.prev=11,u(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})))()}),[]),Object(F.jsxs)(F.Fragment,{children:[O&&Object(F.jsx)(ae,{}),!O&&r&&"complete"===document.readyState?Object(F.jsx)(ce,{}):Object(F.jsx)(X,{pageName:"Tablets",products:c})]})},re=function(){var e=Object(j.useState)([]),t=Object(l.a)(e,2),c=t[0],a=t[1],n=Object(j.useState)(!1),s=Object(l.a)(n,2),r=s[0],u=s[1],d=Object(j.useState)(!1),b=Object(l.a)(d,2),O=b[0],h=b[1],m=function(e,t){var c=e.filter((function(e){return e.type===t}));a(c)};return Object(j.useEffect)((function(){Object(o.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,te();case 4:t=e.sent,m(t,"accessory"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),h(!0);case 11:return e.prev=11,u(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})))()}),[]),Object(F.jsxs)(F.Fragment,{children:[O&&Object(F.jsx)(ae,{}),!O&&r&&"complete"===document.readyState?Object(F.jsx)(ce,{}):Object(F.jsx)(X,{pageName:"Accessories",products:c})]})},ie=function(e){var t=e.product,c=e.title,a=e.baseClassName,n=[];return n=c?function(e){return[{option:"Screen",value:null===e||void 0===e?void 0:e.display.screenSize},{option:"Resolution",value:null===e||void 0===e?void 0:e.display.screenResolution},{option:"Processor",value:null===e||void 0===e?void 0:e.hardware.cpu},{option:"RAM",value:null===e||void 0===e?void 0:e.storage.ram},{option:"Memory",value:null===e||void 0===e?void 0:e.storage.flash},{option:"Camera",value:null===e||void 0===e?void 0:e.camera.primary},{option:"Weight",value:null===e||void 0===e?void 0:e.sizeAndWeight.weight}]}(t):function(e){return[{option:"Screen",value:null===e||void 0===e?void 0:e.display.screenSize},{option:"Resolution",value:null===e||void 0===e?void 0:e.display.screenResolution},{option:"Processor",value:null===e||void 0===e?void 0:e.hardware.cpu.slice(0,35)},{option:"RAM",value:null===e||void 0===e?void 0:e.storage.ram}]}(t),Object(F.jsxs)("div",{"data-cy":"TechSpecs",children:[Object(F.jsx)("h2",{children:c}),Object(F.jsx)("div",{className:"row"}),Object(F.jsx)("div",{className:"details-table",children:Object(F.jsxs)("div",{className:"details-table__grid",children:[Object(F.jsx)("div",{className:"details-table__options",children:n.map((function(e){return Object(F.jsx)("span",{className:"\n                  ".concat(a," \n                  ").concat(a,"--light \n                  ").concat(a,"--huge\n                "),children:e.option},e.option)}))}),Object(F.jsx)("div",{className:"details-table__values",children:n.map((function(e){return Object(F.jsx)("span",{className:"\n                  ".concat(a," \n                  ").concat(a,"--huge\n                "),children:e.value},e.option)}))})]})})]})},oe=function(){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("span",{className:"small-text small-text--light",children:"Available colors"}),Object(F.jsx)("br",{}),Object(F.jsxs)("div",{className:"container",children:[Object(F.jsx)("div",{className:"container--circle",children:Object(F.jsx)("div",{title:"this option is not available now",className:"color-option color-option--pink"})}),Object(F.jsx)("div",{className:"container--circle",children:Object(F.jsx)("div",{title:"this option is not available now",className:"color-option color-option--grey"})}),Object(F.jsx)("div",{className:"container--circle",children:Object(F.jsx)("div",{title:"this option is not available now",className:"color-option color-option--light-grey"})}),Object(F.jsx)("div",{className:"container--circle",children:Object(F.jsx)("div",{title:"this option is not available now",className:"color-option color-option--silver"})})]}),Object(F.jsx)("div",{className:"row"}),Object(F.jsx)("br",{}),Object(F.jsx)("span",{className:"small-text small-text--light",children:"Select capacity"}),Object(F.jsx)("br",{}),Object(F.jsxs)("div",{className:"container",children:[Object(F.jsx)("div",{title:"this option is not available now",className:"container container--center container--capacity text",children:"64 GB"}),Object(F.jsx)("div",{title:"this option is not available now",className:"container container--center container--capacity text",children:"256 GB"}),Object(F.jsx)("div",{title:"this option is not available now",className:"container container--center container--capacity text",children:"512 GB"})]}),Object(F.jsx)("div",{className:"row"})]})},le=(c(57),function(){var e=Object(u.n)();return Object(F.jsx)("button",{"data-cy":"backButton",className:"BackButton",type:"button",onClick:function(){e(-1)},children:Object(F.jsx)("span",{className:"small-text",children:"back"})})}),ue=function(){var e=Object(u.k)().pathname,t=R(e).slice(0,-1);return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(le,{}),Object(F.jsx)("h1",{className:"title",children:"".concat(t," was not found")})]})},je=(c(58),function(){var e=Object(j.useState)(null),t=Object(l.a)(e,2),c=t[0],a=t[1],n=Object(j.useState)([]),s=Object(l.a)(n,2),r=s[0],b=s[1],O=Object(j.useState)(null),m=Object(l.a)(O,2),x=m[0],p=m[1],v=Object(j.useState)(!1),f=Object(l.a)(v,2),g=f[0],_=f[1],N=Object(j.useState)(""),y=Object(l.a)(N,2),P=y[0],S=y[1],C=Object(j.useState)(!1),k=Object(l.a)(C,2),w=k[0],T=k[1],A=Object(u.p)().productId,E=[],B=x?d(x):0;Object(j.useEffect)((function(){window.scrollTo(0,0),_(!0),"complete"===document.readyState&&Object(o.a)(Object(i.a)().mark((function e(){var t,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te();case 3:return t=e.sent,e.next=6,ee("/".concat(A||"",".json"));case 6:c=e.sent,b(t),a(c),T(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),T(!0);case 15:return e.prev=15,_(!1),S(""),e.finish(15);case 19:case"end":return e.stop()}}),e,null,[[0,12,15,19]])})))()}),[A]),Object(j.useEffect)((function(){if(r&&A){var e=r.find((function(e){return e.id===A}));e?p(e):T(!0)}}),[r]);return Object(F.jsxs)(F.Fragment,{children:[g&&Object(F.jsx)(ce,{}),!w&&!g&&Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("div",{className:"ProductDetailsPage",children:[Object(F.jsx)("div",{className:"ProductDetailsPage__nav",children:Object(F.jsx)($,{})}),Object(F.jsx)(le,{}),Object(F.jsx)("h1",{className:"ProductDetailsPage__title",children:null===x||void 0===x?void 0:x.name}),Object(F.jsxs)("section",{className:"ProductDetailsPage__main",children:[Object(F.jsx)("div",{className:"ProductDetailsPage__main-item",children:null===c||void 0===c?void 0:c.images.map((function(e){return Object(F.jsx)("button",{type:"button",className:h()("ProductDetailsPage__small-img-container",{"ProductDetailsPage__small-img-container--active":e===P}),onClick:function(){S(e)},children:Object(F.jsx)("img",{src:e,className:"ProductDetailsPage__image--small",alt:""})},e)}))}),Object(F.jsx)("div",{className:"ProductDetailsPage__main-item",children:Object(F.jsx)("img",{className:"ProductDetailsPage__image",src:P||(null===x||void 0===x?void 0:x.imageUrl),alt:""})}),Object(F.jsxs)("div",{className:"ProductDetailsPage__customer-choice",children:[Object(F.jsx)(oe,{}),Object(F.jsxs)("div",{className:"container--center",children:[Object(F.jsx)("h1",{children:"$".concat(B)}),0!==(null===x||void 0===x?void 0:x.discount)&&Object(F.jsx)("h2",{className:" ProductCard__price ProductCard__price--old ",children:"$".concat(null===x||void 0===x?void 0:x.price)})]}),Object(F.jsx)("br",{}),Object(F.jsx)(H,{currentProduct:x,buttonSize:"big"}),Object(F.jsx)("br",{}),c&&Object(F.jsx)(ie,{product:c,title:"",baseClassName:"small-text"})]})]}),Object(F.jsxs)("section",{"data-cy":"productDescription",className:"ProductDetailsPage__description",children:[Object(F.jsxs)("div",{className:"ProductDetailsPage__description-item",children:[Object(F.jsx)("h2",{children:"About"}),Object(F.jsx)("div",{className:"row"}),Object(F.jsx)("p",{className:"text text--light",children:null===c||void 0===c?void 0:c.description})]}),Object(F.jsx)("div",{className:"ProductDetailsPage__description-item",children:c&&Object(F.jsx)(ie,{product:c,title:"TechSpecs",baseClassName:"text"})})]}),Object(F.jsxs)("section",{"data-cy":"suggestedProducts",children:[Object(F.jsx)("h1",{children:"You may also like"}),Object(F.jsx)("br",{}),Object(F.jsx)("br",{}),Object(F.jsx)(M,{productList:function(){if(r.length){var e=function(){var e=Math.floor(Math.random()*r.length),t=r[e];E.every((function(e){return e.id!==t.id}))&&E.push(t)};do{e()}while(E.length<4)}return E}()})]})]})}),w&&!g&&Object(F.jsx)(ue,{})]})}),de=(c(59),function(e){var t=e.pageName,c=e.pathname,a=Object(j.useState)(""),n=Object(l.a)(a,2),s=n[0],r=n[1],i=Object(j.useState)(""),o=Object(l.a)(i,2),u=o[0],d=o[1],b=m(),O=Object(j.useCallback)(function(e,t){var c;return function(){var a;clearTimeout(c);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];c=(a=window).setTimeout.apply(a,[e,t].concat(s))}}(r,1e3),[]);return Object(j.useEffect)((function(){b(U(s))}),[s]),Object(j.useEffect)((function(){d(""),r(""),b(W())}),[c]),Object(F.jsxs)("div",{className:"Search",children:[Object(F.jsx)("input",{type:"text",value:u,ref:function(e){return e&&e.focus()},className:"Search__input text",placeholder:"Search in ".concat(t,"..."),onChange:function(e){return t=e.currentTarget.value,d(t),void O(t);var t}}),Object(F.jsx)("button",{"data-cy":"searchDelete","aria-label":"searchDelete",type:"button",className:h()("Search__button",{"cross-button":u}),onClick:function(){d(""),r(""),b(W())}})]})}),be=(c(60),[{id:1,name:"Home",adress:"/"},{id:2,name:"Phones",adress:"/phones"},{id:3,name:"Tablets",adress:"/tablets"},{id:4,name:"Accessories",adress:"/accessories"}]),Oe=function(e){var t=e.products,c=x((function(e){return e.cartProducts})).cartProducts,a=x((function(e){return e.favorites})).favorites,n=m(),r=Object(u.k)().pathname,i=r.split("/"),o=i[1],l=o.slice(0,o.length-1),d=t.filter((function(e){return e.type===l})).length>0;return Object(j.useEffect)((function(){var e=localStorage.getItem("cart");e&&n(g(JSON.parse(e)));var t=localStorage.getItem("favorites");t&&n(w(JSON.parse(t)))}),[]),Object(F.jsxs)("div",{className:"Header",children:[Object(F.jsxs)("nav",{className:"Header__navblock",children:[Object(F.jsx)(s.b,{to:"/",children:Object(F.jsx)("div",{className:"logo"})}),Object(F.jsx)("nav",{"data-cy":"categoryLinksContainer",children:"/cart"!==r&&Object(F.jsx)("ul",{className:"navbar__list",children:be.map((function(e){return Object(F.jsx)("li",{className:"navbar__item",children:Object(F.jsx)(s.c,{to:e.adress,className:function(t){var c=t.isActive;return h()("link","Header__link",{"link--is-active":"/"===e.adress?c&&r===e.adress:c&&r.includes(e.adress)})},children:e.name})},e.id)}))})})]}),Object(F.jsxs)("div",{className:"container",children:[d&&i.length<3&&Object(F.jsx)(de,{pageName:o,pathname:r}),Object(F.jsxs)("nav",{className:"Header__cartblock",children:["/cart"!==r&&Object(F.jsx)(s.c,{to:"/favorites",className:function(e){var t=e.isActive;return h()("link","Order__favorite-button","Header__favorite-button",{"link--is-active":t})},children:a.length>0&&Object(F.jsx)("div",{className:"Header__counter",children:a.length})}),Object(F.jsx)(s.c,{to:"/cart",className:function(e){var t=e.isActive;return h()("link","Header__cart-button",{"link--is-active":t})},children:c.length>0&&Object(F.jsx)("div",{className:"Header__counter",children:c.length})})]})]})]})},he=(c(61),function(){return Object(F.jsx)("div",{className:"Footer",children:Object(F.jsxs)("div",{className:"Footer__content",children:[Object(F.jsx)(s.b,{to:"/",children:Object(F.jsx)("div",{className:"logo"})}),Object(F.jsx)("nav",{className:"Footer__navblock",children:Object(F.jsxs)("ul",{className:"navbar__list",children:[Object(F.jsx)("li",{className:"navbar__item",children:Object(F.jsx)("a",{href:" https://github.com/DimaShm/react_phone-catalog/tree/develop ",className:"link Footer__link",target:"_blank",rel:"noreferrer",children:"GITHUB"})}),Object(F.jsx)("li",{className:"navbar__item",children:Object(F.jsx)("a",{href:"https://www.linkedin.com/in/dmitry-shmagin-7a652a248/",className:"link Footer__link",target:"_blank",rel:"noreferrer",children:"CONTACTS"})}),Object(F.jsx)("li",{className:"navbar__item",children:Object(F.jsx)("a",{href:"https://github.com/DimaShm?tab=repositories",className:"Footer__link link",target:"_blank",rel:"noreferrer",children:"RIGHTS"})})]})}),Object(F.jsxs)("div",{className:"Footer__up-button-block",children:[Object(F.jsx)("span",{className:"small-text small-text--light",children:"Back to top"}),Object(F.jsx)("button",{type:"button","aria-label":"backToTop",className:"Footer__button icon-button",onClick:function(){return window.scrollTo({top:0,left:0,behavior:"smooth"})},children:Object(F.jsx)("div",{className:"icon icon--arrow-up"})})]})]})})}),me=(c(62),function(){var e=Object(j.useState)(!1),t=Object(l.a)(e,2),c=t[0],a=t[1],n=x((function(e){return e.cartProducts})).cartProducts,s=m(),r=[];Object(j.useEffect)((function(){window.scrollTo(0,0);var e=localStorage.getItem("cart");e&&s(g(JSON.parse(e)))}),[]);return Object(F.jsxs)("div",{className:"CartPage",children:[Object(F.jsx)(le,{}),Object(F.jsx)("h1",{className:"ProductPage__title",children:"Cart"}),Object(F.jsx)("br",{}),0===n.length&&Object(F.jsx)("h3",{children:"Your cart is empty"}),n.length>0&&Object(F.jsxs)("div",{className:"CartPage__grid",children:[Object(F.jsx)("div",{className:"CartPage__list",children:n.map((function(e){return Object(F.jsxs)("div",{className:"CartPage__list-item",children:[Object(F.jsx)("button",{"data-cy":"cartDeleteButton","aria-label":"cartDeleteButton",type:"button",className:"cross-button",onClick:function(){s(N(e))}}),Object(F.jsx)("img",{className:"CartPage__image",src:e.product.imageUrl,alt:""}),Object(F.jsx)("p",{className:"CartPage__product-name text",children:e.product.name}),Object(F.jsxs)("div",{className:"container",children:[Object(F.jsx)("button",{type:"button",className:"icon-button",disabled:1===e.quantity,onClick:function(){var t;t=e.id,1!==e.quantity&&(n.forEach((function(e){var c=Object(b.a)({},e);e.id===t&&(c.quantity=e.quantity-1),r.push(c)})),s(g(r)))},children:Object(F.jsx)("div",{className:h()("icon","icon--minus",{"icon--minus-active":e.quantity>1})})}),Object(F.jsx)("div",{"data-cy":"productQuantity",className:"CartPage__quantity",children:e.quantity}),Object(F.jsx)("button",{type:"button",className:"icon-button",onClick:function(){return t=e.id,n.forEach((function(e){var c=Object(b.a)({},e);e.id===t&&(c.quantity=e.quantity+1),r.push(c)})),void s(g(r));var t},children:Object(F.jsx)("div",{className:"icon icon--plus"})})]}),Object(F.jsx)("h2",{children:"$".concat(d(e.product))})]},e.id)}))}),Object(F.jsxs)("div",{className:"CartPage__total",children:[Object(F.jsx)("h1",{children:"$".concat(function(){var e=0;return n.forEach((function(t){e+=t.quantity*d(t.product)})),e}())}),Object(F.jsx)("br",{}),Object(F.jsx)("span",{className:"text text--light",children:"Total for ".concat(n.length," items")}),Object(F.jsx)("br",{}),Object(F.jsx)("div",{className:"row"}),Object(F.jsx)("br",{}),Object(F.jsx)("button",{type:"button",className:"CartPage__checkout-button",onClick:function(){a(!0),setTimeout((function(){a(!1)}),5e3)},children:Object(F.jsx)("span",{className:"text text--white",children:"Checkout"})}),Object(F.jsx)("br",{}),Object(F.jsx)("br",{})]}),c&&Object(F.jsx)("div",{className:"CartPage__checkout-info",children:Object(F.jsx)("h2",{children:"We are sorry, but this feature is not implemented yet"})})]})]})}),xe=function(){var e=x((function(e){return e.favorites})).favorites;return Object(j.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("div",{className:"ProductDetailsPage__nav",children:Object(F.jsx)($,{})}),Object(F.jsx)(le,{}),Object(F.jsx)("h1",{className:"ProductPage__title",children:"Favorites"}),Object(F.jsx)("span",{className:"text text--light",children:"".concat(e.length," models")}),Object(F.jsx)("br",{}),Object(F.jsx)("br",{}),Object(F.jsx)("div",{"data-cy":"cardsContainer",children:Object(F.jsx)(M,{productList:e})})]})},pe=function(){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("h1",{style:{marginLeft:"300px"},children:"Found according to your request"}),Object(F.jsx)("br",{}),Object(F.jsx)("br",{}),Object(F.jsx)(je,{})]})},ve=(c(63),function(){var e=Object(j.useState)([]),t=Object(l.a)(e,2),c=t[0],a=t[1],n=Object(j.useState)(!1),s=Object(l.a)(n,2),r=s[0],d=s[1];return Object(j.useEffect)((function(){Object(o.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te();case 3:t=e.sent,a(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),d(!0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[]),Object(F.jsxs)("div",{className:"App",children:[Object(F.jsx)(Oe,{products:c}),r?Object(F.jsx)(ae,{}):Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("main",{className:"App__section",children:"complete"===document.readyState&&Object(F.jsxs)(u.d,{children:[Object(F.jsx)(u.b,{path:"/",element:Object(F.jsx)(q,{products:c})}),Object(F.jsx)(u.b,{path:"/home",element:Object(F.jsx)(u.a,{to:"/"})}),Object(F.jsx)(u.b,{path:"/phones",element:Object(F.jsx)(ne,{})}),Object(F.jsx)(u.b,{path:"/phones/:productId",element:Object(F.jsx)(je,{})}),Object(F.jsx)(u.b,{path:"/phones/:productId/:found",element:Object(F.jsx)(pe,{})}),Object(F.jsx)(u.b,{path:"/tablets",element:Object(F.jsx)(se,{})}),Object(F.jsx)(u.b,{path:"/tablets/:productId",element:Object(F.jsx)(je,{})}),Object(F.jsx)(u.b,{path:"/tablets/:productId/:found",element:Object(F.jsx)(pe,{})}),Object(F.jsx)(u.b,{path:"/accessories",element:Object(F.jsx)(re,{})}),Object(F.jsx)(u.b,{path:"/cart",element:Object(F.jsx)(me,{})}),Object(F.jsx)(u.b,{path:"/favorites",element:Object(F.jsx)(xe,{})}),Object(F.jsx)(u.b,{path:"*",element:Object(F.jsx)(I,{})})]})}),Object(F.jsx)(he,{})]})]})}),fe=Object(p.a)({reducer:{cartProducts:y,favorites:T,query:Y}});c(64);n.a.render(Object(F.jsx)(r.a,{store:fe,children:Object(F.jsx)(s.a,{children:Object(F.jsx)(ve,{})})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.dbd5c23e.chunk.js.map